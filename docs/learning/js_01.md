# JavaScript 01

## JS 介绍

JavaScript 是一门编程语言，具有逻辑描述能力，`数学逻辑`和`功能逻辑`（业务逻辑）

### JS 历史

出现的目的是为了做一些简单的表单验证

- NetScape（网景）公司研发的 NetScape Navigator1.0（浏览器）
- 1995 年，Brendan Eich（布兰登·艾奇）开发了网页脚本语言 JavaScript
- 标准语法 ECMAScript（欧洲计算机制造联合会）

### 组成部分

- `ECMAScript 核心语法`
- `DOM`（Document Object Model）文档对象模型，操作网页内容的一套 API
- `BOM`（Browser Object Model）浏览器对象模型，操作浏览器的一套 API

### 书写方式

- 行内 JS

```html
<input type="button" onclick="alert('hello world')" />
```

- 内部 JS

```html
<script>
  alert("hello word");
</script>
```

- 外联 JS

```html
<script src="js文件路径"></script>
```

### JS 输出方式

- `alert('你好')` 弹出警告框
- `console.dir()` 控制台输出目录
- `console.log('你好')` 控制台输出内容
- `document.write('你好')` 在网页中打印
- `prompt('请输入账号')` 接收用户输入的内容

### 调试代码

- 语法错误，浏览器控制台 `console.log()` 打印错误信息

- 逻辑错误，浏览器 `sources` 面板，进行`断点调试`，解决 BUG

## 变量

### 变量概念

变量就是向内存中所申请的一块空间，空间中存放着`数据`，能够被输出的内容就是数据

### 变量创建与使用

```js
// var 创建一个变量
var age;

// 给变量赋值
age = 123;
```

```js
// 变量初始化
var age = 123;
```

```js
// 批量创建和批量赋值
var age, name, sex;
(age = 123), (name = "张三"), (sex = "男");
```

```js
// 批量变量初始化
var age = 17,
  name = "张三",
  sex = "男";
```

```js
// 重复赋值，变量最终的结果是最后一次的赋值
var age = 123;
console.log(age); // 123;
age = 456;
console.log(age); // 456;
```

```js
// 赋值另一个变量
var a = 123;
var b = a;
console.log(b); // 123;
```

### 变量命名规范

- 由数字、字母、下划线\_、$符组成，且不能以数字开头
- 不能使用关键字或保留字当做变量名
- 变量名区分大小写
- 驼峰命名法，第一个单词首字母小写，后边单词首字母大写

## 数据类型

`能被输出的内容就是数据`

- 基本数据类型（简单的数据类型） `Number`、`String`、`Boolean`、`Undefined`、`Null`
- 引用数据类型（复杂的数据类型） `Array`、`Date`、`Object`

检测基本数据类型:`typeof(变量或数据)`;

### Number 数字类型

- 数字字面量，例如 1 10 3.14 -1 0

- 进制

  - 十进制 0-9
  - 八进制 01-07
  - 十六进制 0-9 及 a-f

- 浮点数（小数）

  - 3.14 -2.2
  - 最高精度是 17 位小数，计算时会出现精度丢失问题，所以要把小数转换成整数计算

- NaN（Not a Number）

  - 不是正常数字，是 Number 数字类型
  - isNaN(数据)，检测一个数据是否是 NaN，是返回 true，不是返回 false;

- 数值范围

  - 最大值 Number.MIN_VALUE，5e-324（科学计数法：5 乘以 10 的负的 324 次方）

  - 最小值 Number.MAX_VALUE，1.7976931348623157e+308

  - 无穷大 Infinity，正数数字和 0 相除的结果

  - 无穷小 -Infinity，负数数字和 0 相除的结果

### String 字符串类型

- 用单引号或者双引号所包裹的字符就是字符串
- 会出现单双引号嵌套的情况
- 转义符（去除特殊含义） \

  - \' 把一个单引号转换为普通字符
  - \" 把一个双引号转换为普通字符

- 拼接符（连接符） +

### Boolean 布尔类型

- 比较判断或逻辑判断
- `true` 表示程序中的肯定
- `false` 表示程序中的否定

### Undefined 类型

- 表示未定义，仅有一个值 `undefined`
- 若一个变量没有赋值时，默认值是 `undefined`

### Null 类型

- 表示空（空对象），仅有一个值 null
- 检测显示 `object`

## 运算符

### 算术运算符

- `+ 加`
- `- 减`
- `* 乘`
- `/ 除`
- `% 取余数`（取模）

  - 整除 余数
  - 不能整除本身

### 赋值运算符--针对的是变量

- `= 赋值`
- `+=`
- `-=`
- `*=`
- `/=`
- `%=`

### 关系（比较）运算符--结果都是布尔值

- `> 大于`
- `< 小于`
- `>= 大于等于`
- `<= 小于等于`
- `!= 不等于`
- `== 等于`
- `=== 全等`
- `!== 不全等`

== 和 ===的区别：

```js
// == 比较的是值
// 特殊的例子 undefined == null // true
console.log(1 == "1"); // true;
// === 不仅比较值，还有比较数据类型
console.log(1 === "1"); // false;
// === 全等在基本数据类型 比较数据值和基本的数据类型
// === 全等在引用数据类型 比较数据值和变量的内存地址
```

### 逻辑运算符--针对布尔值

- `&& 与（且）`，当&&左右两边的结果都是 true 时，结果就是 true，其他结果是 false

- `|| 或`， 当||左右两边有任意一个结果是 true 时，结果就是 true，其他是 false

- `! 非`，取反运算，输出布尔值

```js
// 逻辑与
console.log(1 > 2 && 3 < 4); // false
console.log(1 < 2 && 3 < 4); // true
// 逻辑或
console.log(1 > 2 || 3 < 4); // true
console.log(1 < 2 || 3 < 4); // true
console.log(1 > 2 || 3 > 4); // false
// 逻辑非
console.log(!true); // false
console.log(!false); // true
```

### 一元运算符

- 运算符运算的数据只有一个, 自增、自减、正号、负号、取反、typeof、delete

- 自增 ++ ,对变量实现数字自增 1

  - 前置自增， `++变量`，变量自身先加 1，再把结果返回到表达式中

  - 后置自增，`变量++`， 先返回结果到表达式中，变量再自身加 1

- 自减 --，对变量实现数字自减 1

  - 前置自减，`--变量`，变量自身先减 1，再把结果返回到表达式中

  - 后置自减，`变量--`， 先返回结果到表达式中，变量再自身减 1

- 非 !，`!变量`，输出相反布尔值

### 二元运算符

- 运算符运算的数据只有两个
- 算术运算符，关系(比较)运算符，逻辑运算符

### 三元运算符（三元表达式）

- 运算符运算的数据只有三个
- 条件表达式？结果 1：结果 2；

### 运算符的优先级

1. 小括号 ()
2. 一元运算符 ++、--、+、-、!、typeof、delete
3. 算术运算符 +、-、\*、/、%，先乘除取余数再加减
4. 关系（比较）运算符 >、 <、 >=、 <=、 ==、 !=、 ===、 !==
5. 逻辑运算符 &&、 ||、!， 先&& ，后||
6. 赋值运算符 =、 +=、-=、\*=、/=、%=

## 数据类型转换

转换后会返回新的结果

typeof(变量或数据) 检测变量或数据，返回数据的类型

### 强制转换

#### 转成字符串

- String(其他数据);

  - Boolean、NaN、Undefined 和 Null 可以转字符串

- 变量.toString();

  - Boolean、NaN、Undefined 和 Null 无法转字符串
  - 变量 → 临时对象，相当于 new Number()去调用 toString()

```js
// 变量.toString();
var a = 10;
var b; // 默认值是undefined
var c = null; // 空
var result = a.toString();
console.log(result); // '10'
console.log(typeof result); // string

// 注意：undefined和null无法调用toString()
var result = b.toString(); // 报错
var result = c.toString(); // 报错

// String(其他数据);
var a = 10;
var result = String(a);
console.log(result); // '10'
console.log(typeof result); // string
```

#### 转成数字

- Number(其他数据);

  - 数值字符串转数字，结果是数字

  - 非数值字符串转数字，结果是 NaN

  - 布尔值转数字，true，结果是 1，false，结果是 0

  - undefined 转数字，结果是 NaN

  - null 转数字，结果是 0

- parseInt(其他数据)；转换成整数

  - 只有数值和数值字符串能转换成数字，例如 parseInt('100abc');→100

  - 转其他数据结果是 NaN

- parseFloat(其他数据)；转换成小数

  - 只有数值和数值字符串能转数字
  - 转其他数据结果是 NaN

```js
// Number(其他数据)
// 数值字符串转数字
console.log(Number("123")); // 123;
console.log(typeof Number("123")); // number
// 非数值字符串转数字
console.log(Number("abc123")); // NaN;
console.log(typeof Number("abc123")); // number
// 布尔值转数字
console.log(Number(true)); // 1
console.log(Number(false)); // 0
// undefined 和 null 转数字
console.log(Number(undefined)); // NaN
console.log(Number(null)); // 0
```

#### 转成布尔

- Boolean(其他数据)
  - 空字符串' '、undefined、null、NaN、0 转换布尔值是 false
  - 转其他数据结果是 true

### 隐式转换

- 转成字符串

  - 任何数据和字符串相加

- 转成数字

  - 任何数据在和数字比较时或做算术运算时（除了和字符串相加外）
  - 任何数据和 NaN 做算术运算[NaN 自身、0、取余]（除了和字符串相加外），结果始终都是 NaN

- 转成布尔

  - 在取反运算时
  - 在分支结构或循环结构的条件判断中

## 表达式和语句

### 表达式

- 可以由变量、数据、运算符组成，并产生运算结果的语法结构，（一元表达式、二元表达式都属于）

- 一个表达式可以产生一个值（运算、函数调用、字面量），表达式可以放在任何需要值的地方

### 语句

- 一个行为，用分号隔开一个个语句
- 条件判断语句、循环语句

## 流程控制

### 顺序结构

- js 程序的默认执行顺序是`从左向右、自上而下`

### 分支结构

#### if 分支

```js
// 若条件表达式的结果是 true，则会执行大括号中的代码块，否则不执行
if (条件表达式) {
  // 要执行的代码块
}
```

#### if-else 分支

```js
// 若条件表达式的结果是true，则会执行大括号中的代码块1，否则false执行代码块2
if (条件表达式) {
  // 要执行的代码块1
} else {
  // 要执行的代码块2
}
```

#### 三元表达式（三目运算符）

```js
// 若条件表达式的结果是true,则执行并返回结果1，否则执行并返回结果2
条件表达式 ? 结果1 : 结果2; // 简化版if-else
```

#### if-else if...else 多分支

```js
// 若条件表达式1的结果是true，则会执行代码块1，并结束该分支结构，否则继续向下判断条件表达式2，依次类推
if (条件表达式1) {
  // 要执行的代码块1
} else if (条件表达式2) {
  // 要执行的代码块2
} else {
  // 其他代码块
}
```

#### switch case 结构

```js
// 让传入的值和以下各种值全等比较，符合执行应的代码，否则依次向下比较
// 若以上的值都不成立，则执行default(可有可无，按需使用)对应的代码
switch (传入的值) {
  case 值1:
    // 执行语句
    break;
  case 值2:
    // 执行语句
    break;
  /*...*/
  default:
    // 执行语句
    break;
}

// break关键字（可有可无，按需使用），当执行了break关键字时，会结束switch结构
```

### 循环结构

#### while 循环

```js
// 当循环条件为true时，继续执行循环体, 当循环条件为false时，结束循环
while (循环条件) {
  // 循环体
}
```

#### do...while 循环

```js
// 不管条件成不成立，都会执行一次，然后是否周而复始的执行循环体，根据条件表达式是否成立决定
do {
  // 循环体;
} while (循环条件);
```

#### for 循环

```js
// 执行顺序： 1 2 4 3 → 2 4 3 → 2 4 3 ...
for (初始化表达式1; 判断表达式2; 自增表达式3) {
  // 循环体4
}
```

#### 三种循环的场景区分

- do-while 循环，不论条件是否成立，循环体必须执行一次
- while 循环，当循环次数不确定时
- for 循环,当循环次数确定时

#### 关键字 break

立即跳出整个循环，即循环结束，开始执行循环后面的内容（直接跳到大括号）

#### 关键字 continue

立即跳出当前循环，继续下一次循环

#### 死循环

陷入永无休止的循环，导致网页程序崩溃，在程序中要避免“死循环"
